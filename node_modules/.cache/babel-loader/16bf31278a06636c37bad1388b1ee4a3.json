{"ast":null,"code":"import _slicedToArray from \"/Users/alyson/codelab/leaflet-draw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/Users/alyson/codelab/leaflet-draw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"/Users/alyson/codelab/leaflet-draw/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useMemo, useReducer } from \"react\";\nimport \"leaflet/dist/leaflet.css\";\nimport { CREATE, EDIT, DELETE, ALL } from \"react-leaflet-freedraw\";\nimport Map from \"./components/Map\";\nimport DisplayPosition from \"./components/DisplayPosition\";\nimport CheckboxContainer from \"./components/Checkboxes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar intialState = [{\n  id: \"create\",\n  label: \"Create\",\n  mode: CREATE,\n  isChecked: false\n}, {\n  id: \"edit\",\n  label: \"Edit Polygons\",\n  mode: EDIT,\n  isChecked: false\n}, {\n  id: \"delete\",\n  label: \"Delete\",\n  mode: DELETE,\n  isChecked: false\n}];\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : intialState;\n  var event = arguments.length > 1 ? arguments[1] : undefined;\n  return state.map(function (control) {\n    if (control.id === event.target.name) {\n      return _objectSpread(_objectSpread({}, control), {}, {\n        isChecked: !control.isChecked\n      });\n    }\n\n    return _objectSpread(_objectSpread({}, control), {}, {\n      isChecked: false\n    });\n  });\n}\n\nexport default function App() {\n  _s();\n\n  var _this = this;\n\n  var center = [51.505, -0.09];\n  var zoom = 2;\n\n  var _useReducer = useReducer(reducer, intialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var mode = state.reduce(function (result, current) {\n    if (current.isChecked) {\n      return result | current.mode;\n    } else {\n      return result ^ current.mode;\n    }\n  }, ALL);\n  var displayMap = useMemo(function () {\n    return /*#__PURE__*/_jsxDEV(Map, {\n      center: center,\n      zoom: zoom,\n      setMap: setMap,\n      freeDrawMode: mode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, _this);\n  }, [center, mode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [map ? /*#__PURE__*/_jsxDEV(DisplayPosition, {\n      map: map,\n      center: center,\n      zoom: zoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 14\n    }, this) : null, /*#__PURE__*/_jsxDEV(CheckboxContainer, {\n      checkboxes: state,\n      onChange: dispatch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), displayMap]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"krXEODFaHpijJQt28S0083XyFiw=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useMemo","useReducer","CREATE","EDIT","DELETE","ALL","Map","DisplayPosition","CheckboxContainer","intialState","id","label","mode","isChecked","reducer","state","event","map","control","target","name","App","center","zoom","dispatch","setMap","reduce","result","current","displayMap"],"sources":["/Users/alyson/codelab/leaflet-draw/src/App.js"],"sourcesContent":["import { useState, useMemo, useReducer } from \"react\";\nimport \"leaflet/dist/leaflet.css\";\nimport { CREATE, EDIT, DELETE, ALL } from \"react-leaflet-freedraw\";\n\nimport Map from \"./components/Map\";\nimport DisplayPosition from \"./components/DisplayPosition\";\nimport CheckboxContainer from \"./components/Checkboxes\";\n\nconst intialState = [\n  {\n    id: \"create\",\n    label: \"Create\",\n    mode: CREATE,\n    isChecked: false\n  },\n  {\n    id: \"edit\",\n    label: \"Edit Polygons\",\n    mode: EDIT,\n    isChecked: false\n  },\n  {\n    id: \"delete\",\n    label: \"Delete\",\n    mode: DELETE,\n    isChecked: false\n  }\n];\n\nfunction reducer(state = intialState, event) {\n\n  return state.map((control) => {\n\n    if (control.id === event.target.name) {\n      return {\n        ...control,\n        isChecked: !control.isChecked\n      };\n    }\n    return {\n      ...control,\n      isChecked: false\n    };\n  });\n}\n\nexport default function App() {\n  const center = [51.505, -0.09];\n  const zoom = 2;\n\n  const [state, dispatch] = useReducer(reducer, intialState);\n  const [map, setMap] = useState(null);\n\n  const mode = state.reduce((result, current) => {\n    if (current.isChecked) {\n      return result | current.mode;\n    } else {\n      return result ^ current.mode;\n    }\n  }, ALL);\n\n  const displayMap = useMemo(\n    () => (\n      <Map center={center} zoom={zoom} setMap={setMap} freeDrawMode={mode}  />\n    ),\n    [center, mode]\n  );\n\n  return (\n    <div className=\"App\">\n      {map ? <DisplayPosition map={map} center={center} zoom={zoom} /> : null}\n      <CheckboxContainer checkboxes={state} onChange={dispatch} />\n      {displayMap}\n    </div>\n  );\n}\n"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,OAAnB,EAA4BC,UAA5B,QAA8C,OAA9C;AACA,OAAO,0BAAP;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,GAA/B,QAA0C,wBAA1C;AAEA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,iBAAP,MAA8B,yBAA9B;;AAEA,IAAMC,WAAW,GAAG,CAClB;EACEC,EAAE,EAAE,QADN;EAEEC,KAAK,EAAE,QAFT;EAGEC,IAAI,EAAEV,MAHR;EAIEW,SAAS,EAAE;AAJb,CADkB,EAOlB;EACEH,EAAE,EAAE,MADN;EAEEC,KAAK,EAAE,eAFT;EAGEC,IAAI,EAAET,IAHR;EAIEU,SAAS,EAAE;AAJb,CAPkB,EAalB;EACEH,EAAE,EAAE,QADN;EAEEC,KAAK,EAAE,QAFT;EAGEC,IAAI,EAAER,MAHR;EAIES,SAAS,EAAE;AAJb,CAbkB,CAApB;;AAqBA,SAASC,OAAT,GAA6C;EAAA,IAA5BC,KAA4B,uEAApBN,WAAoB;EAAA,IAAPO,KAAO;EAE3C,OAAOD,KAAK,CAACE,GAAN,CAAU,UAACC,OAAD,EAAa;IAE5B,IAAIA,OAAO,CAACR,EAAR,KAAeM,KAAK,CAACG,MAAN,CAAaC,IAAhC,EAAsC;MACpC,uCACKF,OADL;QAEEL,SAAS,EAAE,CAACK,OAAO,CAACL;MAFtB;IAID;;IACD,uCACKK,OADL;MAEEL,SAAS,EAAE;IAFb;EAID,CAZM,CAAP;AAaD;;AAED,eAAe,SAASQ,GAAT,GAAe;EAAA;;EAAA;;EAC5B,IAAMC,MAAM,GAAG,CAAC,MAAD,EAAS,CAAC,IAAV,CAAf;EACA,IAAMC,IAAI,GAAG,CAAb;;EAEA,kBAA0BtB,UAAU,CAACa,OAAD,EAAUL,WAAV,CAApC;EAAA;EAAA,IAAOM,KAAP;EAAA,IAAcS,QAAd;;EACA,gBAAsBzB,QAAQ,CAAC,IAAD,CAA9B;EAAA;EAAA,IAAOkB,GAAP;EAAA,IAAYQ,MAAZ;;EAEA,IAAMb,IAAI,GAAGG,KAAK,CAACW,MAAN,CAAa,UAACC,MAAD,EAASC,OAAT,EAAqB;IAC7C,IAAIA,OAAO,CAACf,SAAZ,EAAuB;MACrB,OAAOc,MAAM,GAAGC,OAAO,CAAChB,IAAxB;IACD,CAFD,MAEO;MACL,OAAOe,MAAM,GAAGC,OAAO,CAAChB,IAAxB;IACD;EACF,CANY,EAMVP,GANU,CAAb;EAQA,IAAMwB,UAAU,GAAG7B,OAAO,CACxB;IAAA,oBACE,QAAC,GAAD;MAAK,MAAM,EAAEsB,MAAb;MAAqB,IAAI,EAAEC,IAA3B;MAAiC,MAAM,EAAEE,MAAzC;MAAiD,YAAY,EAAEb;IAA/D;MAAA;MAAA;MAAA;IAAA,SADF;EAAA,CADwB,EAIxB,CAACU,MAAD,EAASV,IAAT,CAJwB,CAA1B;EAOA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,WACGK,GAAG,gBAAG,QAAC,eAAD;MAAiB,GAAG,EAAEA,GAAtB;MAA2B,MAAM,EAAEK,MAAnC;MAA2C,IAAI,EAAEC;IAAjD;MAAA;MAAA;MAAA;IAAA,QAAH,GAA+D,IADrE,eAEE,QAAC,iBAAD;MAAmB,UAAU,EAAER,KAA/B;MAAsC,QAAQ,EAAES;IAAhD;MAAA;MAAA;MAAA;IAAA,QAFF,EAGGK,UAHH;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAOD;;GA7BuBR,G;;KAAAA,G"},"metadata":{},"sourceType":"module"}