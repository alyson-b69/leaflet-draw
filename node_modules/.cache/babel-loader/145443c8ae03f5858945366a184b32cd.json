{"ast":null,"code":"import _slicedToArray from \"/Users/alyson/codelab/leaflet-draw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/alyson/codelab/leaflet-draw/src/components/LeafletControlGeocoder.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.css\";\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.js\";\nimport icon from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var objectContentify = function objectContentify(object) {\n  if (!object) {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Rien \\xE0 afficher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: Object.entries(object).map(function (_ref, index) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      var valueType = typeof value;\n\n      switch (valueType) {\n        case 'boolean':\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 21\n            }, _this), \" : \", value.toString()]\n          }, \"\".concat(value, \"_\").concat(key, \"_\").concat(index), true, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 19\n          }, _this);\n\n        case 'object':\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 21\n            }, _this), \" : \", objectContentify(value)]\n          }, \"\".concat(value, \"_\").concat(key, \"_\").concat(index), true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 19\n          }, _this);\n\n        default:\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 21\n            }, _this), \" : \", value]\n          }, \"\".concat(value, \"_\").concat(key, \"_\").concat(index), true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 19\n          }, _this);\n      }\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 7\n  }, _this);\n};\n\nvar LeafletControlGeocoder = function LeafletControlGeocoder() {\n  _s();\n\n  var map = useMap();\n  useEffect(function () {\n    var geocoder = L.Control.Geocoder.nominatim();\n\n    if (typeof URLSearchParams !== \"undefined\" && location.search) {\n      // parse /?geocoder=nominatim from URL\n      var params = new URLSearchParams(location.search);\n      var geocoderString = params.get(\"geocoder\");\n\n      if (geocoderString && L.Control.Geocoder[geocoderString]) {\n        geocoder = L.Control.Geocoder[geocoderString]();\n      } else if (geocoderString) {\n        console.warn(\"Unsupported geocoder\", geocoderString);\n      }\n    }\n\n    L.Control.geocoder({\n      query: \"\",\n      placeholder: \"Search here...\",\n      defaultMarkGeocode: false,\n      geocoder: geocoder\n    }).on(\"markgeocode\", function (e) {\n      console.log(e.geocode);\n      var latlng = e.geocode.center;\n      L.marker(latlng, {\n        icon: icon\n      }).addTo(map).bindPopup(e.geocode.name).openPopup();\n      map.fitBounds(e.geocode.bbox);\n    }).addTo(map);\n  }, []);\n  return null;\n};\n\n_s(LeafletControlGeocoder, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n\n_c = LeafletControlGeocoder;\nexport default LeafletControlGeocoder;\n\nvar _c;\n\n$RefreshReg$(_c, \"LeafletControlGeocoder\");","map":{"version":3,"names":["useEffect","useMap","L","icon","objectContentify","object","Object","entries","map","index","key","value","valueType","fontWeight","toString","LeafletControlGeocoder","geocoder","Control","Geocoder","nominatim","URLSearchParams","location","search","params","geocoderString","get","console","warn","query","placeholder","defaultMarkGeocode","on","e","log","geocode","latlng","center","marker","addTo","bindPopup","name","openPopup","fitBounds","bbox"],"sources":["/Users/alyson/codelab/leaflet-draw/src/components/LeafletControlGeocoder.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.css\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.js\";\r\nimport icon from \"../utils/constants\";\r\n\r\nexport const objectContentify = (\r\n    object\r\n) => {\r\n  if (!object) {\r\n    return (\r\n        <ul>\r\n          <li>Rien Ã  afficher</li>\r\n        </ul>\r\n    );\r\n  }\r\n  return (\r\n      <ul>\r\n        {Object.entries(object).map(([key, value], index) => {\r\n          const valueType = typeof value;\r\n          switch (valueType) {\r\n            case 'boolean':\r\n              return (\r\n                  <li key={`${value}_${key}_${index}`}>\r\n                    <strong style={{ fontWeight: 'bold' }}>{key}</strong> : {value.toString()}\r\n                  </li>\r\n              );\r\n            case 'object':\r\n              return (\r\n                  <li key={`${value}_${key}_${index}`}>\r\n                    <strong style={{ fontWeight: 'bold' }}>{key}</strong> : {objectContentify(value)}\r\n                  </li>\r\n              );\r\n            default:\r\n              return (\r\n                  <li key={`${value}_${key}_${index}`}>\r\n                    <strong style={{ fontWeight: 'bold' }}>{key}</strong> : {value}\r\n                  </li>\r\n              );\r\n          }\r\n        })}\r\n      </ul>\r\n  );\r\n};\r\n\r\nconst LeafletControlGeocoder = () => {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    var geocoder = L.Control.Geocoder.nominatim();\r\n    if (typeof URLSearchParams !== \"undefined\" && location.search) {\r\n      // parse /?geocoder=nominatim from URL\r\n\r\n      var params = new URLSearchParams(location.search);\r\n      var geocoderString = params.get(\"geocoder\");\r\n      if (geocoderString && L.Control.Geocoder[geocoderString]) {\r\n        geocoder = L.Control.Geocoder[geocoderString]();\r\n      } else if (geocoderString) {\r\n        console.warn(\"Unsupported geocoder\", geocoderString);\r\n      }\r\n    }\r\n\r\n    L.Control.geocoder({\r\n      query: \"\",\r\n      placeholder: \"Search here...\",\r\n      defaultMarkGeocode: false,\r\n      geocoder\r\n    })\r\n      .on(\"markgeocode\", function (e) {\r\n        console.log(e.geocode)\r\n        var latlng = e.geocode.center;\r\n        L.marker(latlng, { icon })\r\n          .addTo(map)\r\n          .bindPopup(e.geocode.name)\r\n          .openPopup();\r\n        map.fitBounds(e.geocode.bbox);\r\n      })\r\n      .addTo(map);\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default LeafletControlGeocoder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}